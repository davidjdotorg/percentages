<html>
<head>
	<title>The Percentages Of My Life</title>
	<style type="text/css">
	body,div {
		background-color:black;
		font-family: Helvetica,Arial,Verdana;
	}
	.content
	{
		overflow:hidden;
		float:right;
		width:200px;
		border:1px solid black;
		-moz-border-radius: 10px;
		border-radius:5px;
		height:auto;
		margin:.5em;
		background-color:lightYellow;
		padding:.5em;
		font-size:1.4em;
	}
	.theHeading {
		width:100%;
		height:auto;
		background-color:red;
		text-align:center;
		font-size:3em;
		color:white;
		-moz-border-radius:10px;
		border-radius:5px;
		}
	</style>
</head>
<body>
<div class="theHeading">PERCENTAGES</div>
<?php

ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);

date_default_timezone_set('America/New_York');

function createPercentage($start,$end,$open_text,$close_text) {

$today = new DateTime();
$startdate = new DateTime($start);
$enddate = new DateTime($end);

$diff_total = $enddate->diff($startdate)->format("%a");
$diff_today = $today->diff($startdate)->format("%a");
$percentage_date = round(($diff_today/$diff_total)*100,2);

return "<div class='content'>".$open_text.' '.$percentage_date.'% '.$close_text."</div>\n";
}

/*  This year  */
echo createPercentage("2016-01-01","2016-12-31","The year 2016 is","over.");
/*  Mortgage  */
echo createPercentage("2016-06-01","2046-06-30","I am","complete with my mortgage payments.");
/*  This decade  */
echo createPercentage("2010-01-01","2019-12-31","The decade starting in 2010 is","over.");
/*  Life  */
echo createPercentage("1967-12-10","2050-07-12","According to death-clock.org, my life is","over.");
/*  Marriage  */
echo createPercentage("1996-03-09","2050-07-12","According to 'Til Death Do Us Part', my marriage is","over.");
/*  This century  */
echo createPercentage("2000-01-01","2099-12-31","The century starting in 2000 is","over.");
/*  Obama Presidency  */
echo createPercentage("2009-01-01","2016-12-31","The Obama Presidency is","complete.");
/*  Summer  */
echo createPercentage("2016-06-21","2016-09-21","Summer of 2016 is","over.");
/*  Kids Over 18  */
echo createPercentage("1997-06-03","2017-12-26","Raising my kids to the age of 18 is","completed.");
/*  Election Season  */
echo createPercentage("2015-06-01","2016-11-08","The current election season in the U.S. is","over.");
/*  Contract with Comcast  */
echo createPercentage("2016-06-01","2018-06-01","My current contract with Comcast is","done.");
/*  Waiting for next Survivor  */
echo createPercentage("2016-05-15","2016-09-24","The wait between episodes of Survivor is","over.");
?>
</body>
</html>
