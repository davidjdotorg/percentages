<?php

ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);

date_default_timezone_set('America/New_York');

function createPercentage($start,$end,$open_text,$close_text) {

$today = new DateTime();
$startdate = new DateTime($start);
$enddate = new DateTime($end);

$diff_total = $enddate->diff($startdate)->format("%a");
$diff_today = $today->diff($startdate)->format("%a");
$percentage_date = round(($diff_today/$diff_total)*100,2);

return $open_text.' '.$percentage_date.'% '.$close_text;
}

/*  This year  */
echo createPercentage("2016-01-01","2016-12-31","This year is","over.");
echo "<br><br>";
/*  Mortgage  */
echo createPercentage("2016-06-01","2046-06-30","I am","complete with my mortgage payments.");
echo "<br><br>";
/*  Life  */
echo createPercentage("1967-12-10","2050-07-12","According to death-clock.org, my life is","over.");
echo "<br><br>";
/*  Marriage  */
echo createPercentage("1996-03-09","2050-07-12","According to 'Til Death Do Us Part', my marriage is","over.");

?>
